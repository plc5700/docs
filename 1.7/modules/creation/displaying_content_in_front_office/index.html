<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.35" />
    <meta name="description" content="Prestashop Technical Documentation">
<meta name="author" content="PrestaShop">

    <link rel="shortcut icon" href="/images/preston-logo@2x.png" type="image/x-icon" />
<link rel="icon" href="/images/preston-logo@2x.png" type="image/x-icon" />

    <title>Displaying content on the front office :: Prestashop Developer Documentation</title>

    
    <link href="/css/font-awesome.min.css?1521820411" rel="stylesheet">
    <link href="/css/hybrid.css?1521820411" rel="stylesheet">
    <link href="/css/featherlight.min.css?1521820411" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1521820411" rel="stylesheet">
    <link href="/css/auto-complete.css?1521820411" rel="stylesheet">
    <link href="/css/style.css?1521820411" rel="stylesheet">

    <script src="/js/jquery-2.x.min.js?1521820411"></script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/1.7/modules/creation/displaying_content_in_front_office/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">PrestaShop DevDocs</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1521820411"></script>
<script type="text/javascript" src="/js/auto-complete.js?1521820411"></script>
<script type="text/javascript">
    
        var baseurl = '\/';
    
</script>
<script type="text/javascript" src="/js/search.js?1521820411"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

      
        
          
            
              


 
  
    
    <li data-nav-id="/1.7/basics/" title="Basics" class="dd-item
        
        
        
        ">
      <a href="/1.7/basics/">
          <b>1. </b>Basics
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/1.7/basics/introduction/" title="Introduction" class="dd-item ">
        <a href="/1.7/basics/introduction/">
        Introduction
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/1.7/basics/installation/" title="Installation" class="dd-item
        
        
        
        ">
      <a href="/1.7/basics/installation/">
          Installation
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/1.7/basics/installation/configuration/" title="Configuration" class="dd-item ">
        <a href="/1.7/basics/installation/configuration/">
        Configuration
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
              


 
  
    
    <li data-nav-id="/1.7/development/" title="Development" class="dd-item
        
        
        
        ">
      <a href="/1.7/development/">
          <b>2. </b>Development
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    <li data-nav-id="/1.7/development/coding_standards/" title="Coding standards" class="dd-item
        
        
        
        ">
      <a href="/1.7/development/coding_standards/">
          Coding standards
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/1.7/development/coding_standards/commits_and_pull_requests/" title="Commits &amp; Pull Requests" class="dd-item ">
        <a href="/1.7/development/coding_standards/commits_and_pull_requests/">
        Commits &amp; Pull Requests
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/1.7/development/database/" title="Database" class="dd-item
        
        
        
        ">
      <a href="/1.7/development/database/">
          Database
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/1.7/development/database/dbquery/" title="DBQuery class" class="dd-item ">
        <a href="/1.7/development/database/dbquery/">
        DBQuery class
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/1.7/development/database/objectmodel/" title="ObjectModel class" class="dd-item ">
        <a href="/1.7/development/database/objectmodel/">
        ObjectModel class
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/1.7/development/prestashop_architecture/" title="The PrestaShop architecture" class="dd-item ">
        <a href="/1.7/development/prestashop_architecture/">
        The PrestaShop architecture
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
              


 
  
    
    <li data-nav-id="/1.7/testing/" title="Testing" class="dd-item
        
        
        
        ">
      <a href="/1.7/testing/">
          <b>3. </b>Testing
          
      </a>
      
      
    </li>
  
 

            
              


 
  
    
    <li data-nav-id="/1.7/documentation/" title="Documentation" class="dd-item
        
        
        
        ">
      <a href="/1.7/documentation/">
          <b>4. </b>Documentation
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/1.7/documentation/why/" title="Why write documentation" class="dd-item ">
        <a href="/1.7/documentation/why/">
        Why write documentation
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/1.7/documentation/how/" title="How to contribute" class="dd-item ">
        <a href="/1.7/documentation/how/">
        How to contribute
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/1.7/documentation/shortcodes/" title="Shortcodes" class="dd-item
        
        
        
        ">
      <a href="/1.7/documentation/shortcodes/">
          Shortcodes
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
              


 
  
    
    <li data-nav-id="/1.7/modules/" title="Modules" class="dd-item
        parent
        
        
        ">
      <a href="/1.7/modules/">
          <b>5. </b>Modules
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
    <li data-nav-id="/1.7/modules/templating/" title="How to override templates in modern Back Office modern pages?" class="dd-item
        
        
        
        ">
      <a href="/1.7/modules/templating/">
          How to override templates in modern Back Office modern pages?
          
      </a>
      
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/1.7/modules/paiement/" title="Payment modules" class="dd-item
        
        
        
        ">
      <a href="/1.7/modules/paiement/">
          Payment modules
          
      </a>
      
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/1.7/modules/widgets/" title="Widgets" class="dd-item
        
        
        
        ">
      <a href="/1.7/modules/widgets/">
          Widgets
          
      </a>
      
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/1.7/modules/creation/" title="Creating a first module" class="dd-item
        parent
        
        
        ">
      <a href="/1.7/modules/creation/">
          Creating a first module
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/1.7/modules/creation/module_file_structure/" title="File structure for a PrestaShop module" class="dd-item ">
        <a href="/1.7/modules/creation/module_file_structure/">
        File structure for a PrestaShop module
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/1.7/modules/creation/about_config_xml_file/" title="About the config.xml file" class="dd-item ">
        <a href="/1.7/modules/creation/about_config_xml_file/">
        About the config.xml file
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/1.7/modules/creation/adding_configuration_page/" title="Adding a configuration page" class="dd-item ">
        <a href="/1.7/modules/creation/adding_configuration_page/">
        Adding a configuration page
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/1.7/modules/creation/displaying_content_in_front_office/" title="Displaying content on the front office" class="dd-item active">
        <a href="/1.7/modules/creation/displaying_content_in_front_office/">
        Displaying content on the front office
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/1.7/modules/creation/enabling_auto_update/" title="Enabling the Auto-Update" class="dd-item ">
        <a href="/1.7/modules/creation/enabling_auto_update/">
        Enabling the Auto-Update
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/1.7/modules/creation/module_translation/" title="Module translation" class="dd-item ">
        <a href="/1.7/modules/creation/module_translation/">
        Module translation
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/1.7/modules/hooks/" title="Hooks" class="dd-item
        
        
        
        ">
      <a href="/1.7/modules/hooks/">
          Hooks
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/1.7/modules/hooks/list_of_hooks/" title="List of hooks" class="dd-item ">
        <a href="/1.7/modules/hooks/list_of_hooks/">
        List of hooks
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/1.7/modules/hooks/use_hooks_on_modern_pages/" title="Use hooks on modern pages" class="dd-item ">
        <a href="/1.7/modules/hooks/use_hooks_on_modern_pages/">
        Use hooks on modern pages
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/1.7/modules/hooks/alter_forms_on_modern_pages/" title="Alter forms on modern pages" class="dd-item ">
        <a href="/1.7/modules/hooks/alter_forms_on_modern_pages/">
        Alter forms on modern pages
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
              


 
  
    
    <li data-nav-id="/1.7/themes/" title="Themes" class="dd-item
        
        
        
        ">
      <a href="/1.7/themes/">
          <b>6. </b>Themes
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/1.7/themes/guidelines/" title="Guidelines and coding standards" class="dd-item ">
        <a href="/1.7/themes/guidelines/">
        Guidelines
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/1.7/themes/starter_theme/" title="Starter Theme" class="dd-item
        
        
        
        ">
      <a href="/1.7/themes/starter_theme/">
          Starter Theme
          
      </a>
      
      
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/1.7/themes/getting_started/" title="Getting started with theme development" class="dd-item
        
        
        
        ">
      <a href="/1.7/themes/getting_started/">
          Getting started
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            


 
  
    
      <li data-nav-id="/1.7/themes/getting_started/setting_up_your_local_environment/" title="Setting up your local environment" class="dd-item ">
        <a href="/1.7/themes/getting_started/setting_up_your_local_environment/">
        Set up your local environment
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/1.7/themes/migration_from_16/" title="Migrating from PrestaShop 1.6" class="dd-item ">
        <a href="/1.7/themes/migration_from_16/">
        Migrating from 1.6
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/1.7/themes/rtl/" title="RTL support" class="dd-item ">
        <a href="/1.7/themes/rtl/">
        RTL support
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
      
    </ul>

    
    

    
    <section id="footer">
      <p><a href="https://github.com/PrestaShop/PrestaShop/"><i class="fa fa-github" aria-hidden="true"></i> PrestShop on GitHub</a></p>
<p><a href="http://forge.prestashop.com/secure/CreateIssue!default.jspa"><i class="fa fa-bug" aria-hidden="true"></i> Report a bug</a></p>
<p><a href="https://gitter.im/PrestaShop/General"><i class="fa fa-comment" aria-hidden="true"></i> Join us on Gitter</a></p>

    </section>
  </div>
</nav>





      <section id="body">
      <div id="overlay"></div>
      <div class="padding highlightable">
        
<div>
  <div id="top-bar">
    
      
      
      
      <div id="top-github-link">
        <a class="github-link" title='Improve this page' href="https://github.com/PrestaShop/docs/edit/hugo/src/content/1.7/modules/creation/displaying_content_in_front_office.md" target="blank">
          <i class="fa fa-pencil"></i>
          <span id="top-github-link-text">Improve this page</span>
        </a>
        <a class="how-to-improve" href="/1.7/documentation/how/">
          <i class="fa fa-question-circle"></i>
          <span>How</span>
        </a>
      </div>
      
    
    <div id="breadcrumbs" itemscope="" itemtype="http://schema.org/breadcrumb">
      <span id="sidebar-toggle-span">
        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
          <i class="fa fa-bars"></i>
        </a>
      </span>
      <span class="links">
        
            
            
              
              
            
            
              
              
            
            
              
              
            
            
              
              
            
            
              <a href='/'>Home</a> > <a href='/1.7/'>1.7</a> > <a href='/1.7/modules/'>Modules</a> > <a href='/1.7/modules/creation/'>Creating a first module</a> > Displaying content on the front office
            
          
            
          
            
          
            
          
            
          
      </span>
    </div>
  </div>
</div>




        

        
        
          
            <div id="toc">
  <div class="wrapper">
    <div id="toc-title">Table of Contents</div>
    <nav id="TableOfContents">
<ul>
<li><a href="#displaying-content-on-the-front-office">Displaying content on the front office</a>
<ul>
<li><a href="#displaying-content">Displaying content</a>
<ul>
<li><a href="#disabling-the-cache">Disabling the cache</a></li>
</ul></li>
<li><a href="#embedding-a-template-in-the-theme">Embedding a template in the theme</a></li>
</ul></li>
</ul>
</nav>

    <div id="navigation">
  
  

  
  
  
    
      
      
    
    
    
    
      
    
    

    
    
  
  
    
      
      
    
    
    
    
      
    
    

    
    
  
  
    
      
        
        
      
    
    
    
    
      
    
    

    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
    
    
  
    
    
  
  
    
      
    
    
    
    
      
    
    

    
    
  
  
    
      
    
    
    
    
    

    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
      
    
    

    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
    
    
  
  
    
      
      
    
    
    
    
      
    
    

    
    
  
  
    
      
        
        
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
      
    
    
    
    
    

    
    
  
  
    
      
        
        
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
        
        
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
    
    
  
    
    
  
  
    
      
    
    
    
    
      
    
    

    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
  
    
      
    
    
    
    
    

    
    
  
    
    
  
    
    
  
    
    
  

  

  
  
  <a class="nav nav-next" href="/1.7/modules/creation/enabling_auto_update/" title="Enabling the Auto-Update" style="margin-right: 0px;">
    <i class="fa fa-chevron-right"></i>
    Next article
  </a>
  
</div>

  </div>
</div>

          
        

        <div id="body-inner">

          






<h1 id="displaying-content-on-the-front-office">Displaying content on the front office</h1>

<p>As it is, the module does not do much. In order to display something on
the front office, we have to add support for a few hooks. This is done
by implementing the hooks&rsquo; methods, and that was actually done in the
<code>install()</code> method we wrote earlier, using the <code>registerHook()</code> method:</p>

<pre><code>public function install()
{
  if (Shop::isFeatureActive())
    Shop::setContext(Shop::CONTEXT_ALL);

  return parent::install() &amp;&amp;
    $this-&gt;registerHook('leftColumn') &amp;&amp;
    $this-&gt;registerHook('header') &amp;&amp;
    Configuration::updateValue('MYMODULE_NAME', 'my friend');
}
</code></pre>

<p>As you can see, we make it so that the module is hooked to the
&ldquo;<code>leftColumn</code>&rdquo; and &ldquo;<code>header</code>&rdquo; hooks. In addition to this, we will add
code for the &ldquo;<code>rightColumn</code>&rdquo; hook.</p>

<p>Attaching code to a hook requires a specific method for each:</p>

<ul>
<li><code>hookDisplayLeftColumn()</code>: will hook code into the left column – in
our case, it will fetch the MYMODULE_NAME module setting and
display the module&rsquo;s template file, <code>mymodule.tpl</code>, which must be
located in the <code>/views/templates/hook/</code> folder.</li>
<li><code>hookDisplayRightColumn()</code>: will simply do the same as
<code>hookDisplayLeftColumn()</code>, but for the right column.</li>
<li><code>hookDisplayHeader()</code>: will add a link to the module&rsquo;s CSS file,
<code>/css/mymodule.css</code>.</li>
</ul>

<!-- -->

<pre><code>public function hookDisplayLeftColumn($params)
{
  $this-&gt;context-&gt;smarty-&gt;assign(
      array(
          'my_module_name' =&gt; Configuration::get('MYMODULE_NAME'),
          'my_module_link' =&gt; $this-&gt;context-&gt;link-&gt;getModuleLink('mymodule', 'display')
      )
  );
  return $this-&gt;display(__FILE__, 'mymodule.tpl');
}

public function hookDisplayRightColumn($params)
{
  return $this-&gt;hookDisplayLeftColumn($params);
}

public function hookDisplayHeader()
{
  $this-&gt;context-&gt;controller-&gt;addCSS($this-&gt;_path.'css/mymodule.css', 'all');
}
</code></pre>

<p>We are using the Context (<code>$this-&gt;context</code>) to change a Smarty variable:
Smarty&rsquo;s <code>assign()</code> method makes it possible for us to set the
template&rsquo;s name variable with the value of the <code>MYMODULE_NAME</code> setting
stored in the configuration database table.</p>

<p>The header hook is not part of the visual header, but enables us to put
code in the <code>&lt;head&gt;</code> tag of the generated HTML file. This is very useful
for JavaScript or CSS files. To add a link to our CSS file in the page&rsquo;s
<code>&lt;head&gt;</code> tag, we use the <code>addCSS()</code> method, which generates the correct
<code>&lt;link&gt;</code> tag to the CSS file indicated in parameters.</p>

<p>Save your file, and already you can hook your module&rsquo;s template into the
theme, move it around and transplant it (even though there is not
template file for the moment): go to the &ldquo;Positions&rdquo; page from the
&ldquo;Modules&rdquo; menu in the back office, then click on the &ldquo;Transplant a
module&rdquo; button (top right of the page).</p>

<p>In the transplantation form:</p>

<ul>
<li>Find &ldquo;My module&rdquo; in the &ldquo;Module&rdquo; drop-down list.</li>
<li>Choose &ldquo;(displayLeftColumn) Left column blocks&rdquo; in the &ldquo;Hook into&rdquo;
drop-down list.</li>
<li>Click &ldquo;Save&rdquo;.</li>
</ul>

<p>It is useless to try to attach a module to a hook for which it has no
implemented method.</p>

<p>The &ldquo;Positions&rdquo; page should reload, with the following message: &ldquo;Module
transplanted successfully to hook&rdquo; (or maybe &ldquo;This module has already
been transplanted to this hook. &ldquo;). Congratulations! Scroll down the
&ldquo;Positions&rdquo; page, and you should indeed see your module among the other
modules in the &ldquo;Left column blocks&rdquo; list. Move it to the top of the list
by drag&rsquo;n&rsquo;dropping the module&rsquo;s row.</p>

<p>The module is now attached to the left column&hellip; but without any
template to display, it falls short of doing anything useful: if you
reload the homepage, the left column simply displays a message where the
module should be, saying &ldquo;No template found for module mymodule&rdquo;.</p>

<h2 id="displaying-content">Displaying content</h2>

<p>Now that we have access to the left column, we should display something
there for the customer to see.</p>

<p>The visible part of the module is defined in .<code>tpl</code> files placed in
specific View folders:</p>

<ul>
<li><code>/views/templates/front/</code>: front office features.</li>
<li><code>/views/templates/admin/</code>: back office features.</li>
<li><code>/views/templates/hook/</code>: features hooked to a PrestaShop (so can be
displayed either on the front office or the back office).</li>
</ul>

<p>Template files can have just about any name. It there is only one such
file, it is good practice to give it the same name as the folder and
main file: <code>mymodule.tpl</code>.</p>

<p>In the case of this tutorial, the module will be hooked to the left
column. Therefore, the TPL files that are called from the column&rsquo;s hook
should be placed in <code>/views/templates/hook/</code> in order to work properly.</p>

<p>As said earlier, the content to be displayed in the theme should be
stored in <code>.tpl</code> template files placed in a specific folder:
<code>/views/templates/front/</code>. Template files can have just about any name.
It there is only one such file, it is good practice to give it the same
name as the folder and main file: <code>mymodule.tpl</code>.</p>

<p>We will create the <code>mymodule.tpl</code> file, which was passed as a parameter
of the <code>display()</code> method in our module&rsquo;s code, in the
<code>hookDisplayHome()</code> method. When calling a template from within a hook,
PrestaShop looks for that template file in the <code>/views/templates/hook/</code>
folder (in the module&rsquo;s folder), which you must create yourself.</p>

<p>In PrestaShop 1.4, the module&rsquo;s template files were to be placed at the
root of the module&rsquo;s folder.</p>

<p>For compatibility reasons, template files can still reside in the root
folder in PrestaShop 1.5 and 1.6, although the sub-folders of
<code>/views/templates/</code> are now the recommended locations. If you intend
your module to also work in PrestaShop 1.4, you should keep your files
at the root.</p>

<p>Here is our template file, located at
<code>/views/templates/hook/mymodule.tpl</code>:</p>

<pre><code>&lt;!-- Block mymodule --&gt;
&lt;div id=&quot;mymodule_block_home&quot; class=&quot;block&quot;&gt;
  &lt;h4&gt;Welcome!&lt;/h4&gt;
  &lt;div class=&quot;block_content&quot;&gt;
    &lt;p&gt;Hello,
       {if isset($my_module_name) &amp;&amp; $my_module_name}
           {$my_module_name}
       {else}
           World
       {/if}
       !
    &lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;{$my_module_link}&quot; title=&quot;Click this link&quot;&gt;Click me!&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;!-- /Block mymodule --&gt;
</code></pre>

<p>This is just regular HTML code&hellip; except for a few Smarty calls:</p>

<ul>
<li>The <code>{l s='xxx' mod='yyy'}</code> call is PrestaShop-specific method that
enables you to register the string in the module&rsquo;s translation
panel. The s parameter is the string, while the <code>mod</code> parameter must
contain the module&rsquo;s identifier (in the present case, &ldquo;mymodule&rdquo;).
We only use this method once here for readability reasons, but in
practice it should be used on all of the template&rsquo;s strings.</li>
<li>The <code>{if}</code>, <code>{else}</code> and <code>{/if}</code> statements are Smarty conditionals.
In our example, we check that the <code>$my_module_name</code> Smarty variable
exists (using PHP&rsquo;s <code>isset()</code> function, which considered as trusted
by Smarty) and that it is not empty. If it goes well, we display the
content of that variable; if not, we display &ldquo;World&rdquo;, in order to
have &ldquo;Hello World&rdquo;.</li>
<li>The <code>{$my_module_link}</code> variable in the link&rsquo;s <code>href</code> attribute:
this is a Smarty variable that we will create later on, which will
point to PrestaShop&rsquo;s root directory.</li>
</ul>

<p>In addition to that, we are going to create a CSS file, and save it as
/css/mymodule.css in the module&rsquo;s folder (or any sub-folder you like to
keep you CSS in):</p>

<pre><code>div#mymodule_block_home p {
  font-size: 150%;
  font-style:italic;
}
</code></pre>

<p>Save the template file in the module&rsquo;s <code>/views/templates/hook/</code> folder
and the CSS file in the module&rsquo;s <code>/css/</code> folder, reload your shop&rsquo;s
homepage: the content of the template should appear on top of the left
column, right below the shop&rsquo;s logo (if you have indeed moved it at the
top of the &ldquo;Left Column&rdquo; hook during the transplanting part).</p>

<p>As you can see, the theme applies its own CSS to the template we added:</p>

<ul>
<li>Our <code>&lt;h4&gt;</code> title becomes the block&rsquo;s header, styled the same way as
the other block titles.</li>
<li>Our <code>&lt;div class=&quot;block_content&quot;&gt;</code> block has the same style as the
other blocks on the page.</li>
</ul>

<p>It is not pretty, but it works the way we want it to.</p>

<h3 id="disabling-the-cache">Disabling the cache</h3>

<p>If you&rsquo;ve followed this tutorial to the letter and still do not see
anything appearing in the theme&rsquo;s left column, it might be because
PrestaShop has cached the previous templates, and is still serving these
to you. Hence, you see the original version of the theme, without your
changes.</p>

<p>Smarty caches a compiled version of the homepage, for performance
reasons. This is immensely helpful for production sites, but is useless
for tests sites, where you may load the front-page very regularly in
order to see the impact of your changes.</p>

<p>When editing or debugging a theme on a test site, you should always
disable the cache, in order to force Smarty to recompile templates on
every page load. To that end, go to the &ldquo;Advanced Parameters&rdquo; menu,
select the &ldquo;Performance&rdquo; page, then, in the &ldquo;Smarty&rdquo; section:</p>

<ul>
<li>Template cache. Choose &ldquo;Disable the cache&rdquo;.</li>
<li>Cache. Disable it.</li>
<li>Debug console. You can also open the console if you want to learn
more about Smarty&rsquo;s internals.</li>
</ul>

<p>Do NOT disable the cache or enable the debug console on a production
site, as it severely slows everything down! You should always perform
all your tests in a test site, ideally on your own computer rather than
online.</p>

<h2 id="embedding-a-template-in-the-theme">Embedding a template in the theme</h2>

<p>The link that the module displays does not lead anywhere for now. Let&rsquo;s
create the <code>display.php</code> file that it targets, with a minimal content,
and put it in the module&rsquo;s root folder.</p>

<pre><code>Welcome to this page!
</code></pre>

<p>Click the &ldquo;Click me!&rdquo; link: the resulting page is just that raw text,
without anything from the theme. We would like to have this text
embedded in the theme, so let&rsquo;s see how to do just that.</p>

<p>As you would expect, we have to create a template file in order to use
the theme&rsquo;s style. Let&rsquo;s create the <code>display.tpl</code> file, which will
contain the basic &ldquo;Welcome to my shop!&rdquo; line, and will be called by
<code>display.php</code>. That display.php file will be rewritten into a front-end
controller in order to properly embed our basic template within the
theme&rsquo;s header, footer, columns, etc.</p>

<p>NOTE: You should strive to use explicit and recognizable names for your
template files, so that you can find them quickly in the back office –
which is a must when using the translation tool.</p>

<p>Here are our two files:</p>

<pre><code>display.php
&lt;?php
class mymoduledisplayModuleFrontController extends ModuleFrontController
{
  public function initContent()
  {
    parent::initContent();
    $this-&gt;setTemplate('module:mymodule/views/templates/front/display.tpl');
  }
}

display.tpl
Welcome to my shop!
</code></pre>

<p>Let&rsquo;s explore <code>display.php</code>, our first PrestaShop front-end controller,
stored in the /controllers/front folder of the module&rsquo;s main folder:</p>

<pre><code>A front-end controller must be a class that extends the ModuleFrontController class.
That controller must have one method: `initContent()`, which calls the parent class' `initContent()` method...
...which then calls the `setTemplate()` method with our `display.tpl` file.
</code></pre>

<p><code>setTemplate()</code> is the method that will take care of embedding our
one-line template into a full-blown page, with proper header, footer and
sidebars.</p>

<p>Until PrestaShop 1.4, developers who wanted to embed a template file
into the site&rsquo;s theme had to use PHP&rsquo;s include() calls to include each
portion of the page. Here is the equivalent code for display.php:</p>

<pre><code>display.php
&lt;?php
// This file must be placed at the root of the module's folder.
global $smarty;
include('../../config/config.inc.php');
include('../../header.php');

$smarty-&gt;display(dirname(__FILE__).'/display.tpl');

include('../../footer.php');
?&gt;
</code></pre>

<p>As you can see, this is not necessary anymore since PrestaShop 1.5: you
can and should use a front-end controller, and both the controller
(Controller) and its template (View) should share the same name:
<code>display.php</code> is tied to <code>display.tpl</code>.</p>

<p>Save both files in their respective folders, and reload your shop&rsquo;s
homepage, then click on the &ldquo;Click me!&rdquo;, and voilà ! You have your link.
With just a few lines, the end result is already much better, with the
&ldquo;Welcome&rdquo; line neatly placed between header, footer and columns!</p>

<p>It is only a first step, but this gives you an idea of what is possible
if you follow the templating rules. Using Smarty</p>

<p>Smarty is a PHP template engine, and is used by PrestaShop&rsquo;s theming
system. It is a free and open-source projet, hosted at
<a href="http://www.smarty.net/">http://www.smarty.net/</a>.</p>

<p>It parses template <code>.tpl</code> files, looking for dynamic elements to replace
with their contextual equivalents, then send the generated result to the
browser. Those dynamic elements are indicated with curly brackets:
<code>{ ... }</code>. Programmers can create new variables and use them in TPL
files; PrestaShop adds its own set of variables.</p>

<p>For instance, we can create the \$my_module_message variable in PHP
right in the <code>hookDisplayLeftColumn()</code> method, and have it displayed by
our template file:</p>

<pre><code>mymodule.php
public function hookDisplayLeftColumn($params)
{
    $this-&gt;context-&gt;smarty-&gt;assign(
        array(
            'my_module_name' =&gt; Configuration::get('MYMODULE_NAME'),
            'my_module_link' =&gt; $this-&gt;context-&gt;link-&gt;getModuleLink('mymodule', 'display'),
            'my_module_message' =&gt; $this-&gt;l('This is a simple text message') // Do not forget to enclose your strings in the l() translation method
        )
    );

    return $this-&gt;display(__FILE__, 'mymodule.tpl');
}
</code></pre>

<p>From there on, we can ask Smarty to display the content of this variable
in our TPL file.</p>

<pre><code>mymodule.tpl
{$my_module_message}
</code></pre>

<p>PrestaShop adds its own set of variables. For instance,
<code>{$hook_left_column}</code> will be replaced with the content for the left
column, meaning the content from all the modules that have been attached
to the left column&rsquo;s hook.</p>

<p>All Smarty variables are global. You should therefore pay attention not
to name your own variable with the name of an existing Smarty variable,
in order to avoid overwriting it. It is good practice to avoid overly
simple names, such as <code>{products}</code>, and to prefix it with your module&rsquo;s
name, or even your own name or initials, such as:
<code>{$henryb_mymodule_products}</code>.</p>

<p>Here is a list of Smarty variables that are common to all pages:</p>

<hr />

<p>File / folder       Description</p>

<hr />

<p>img_ps_dir        URL for PrestaShop&rsquo;s image folder.</p>

<p>img_cat_dir       URL for the categories images folder.</p>

<p>img_lang_dir      URL for the languages images folder.</p>

<p>img_prod_dir      URL for the products images folder.</p>

<p>img_manu_dir      URL for the manufacturers images folder.</p>

<p>img_sup_dir       URL for the suppliers images folder.</p>

<p>img_ship_dir      URL for the carriers (shipping) images folder.</p>

<p>img_dir            URL for the theme&rsquo;s images folder.</p>

<p>css_dir            URL for the theme&rsquo;s CSS folder.</p>

<p>js_dir             URL for the theme&rsquo;s JavaScript folder.</p>

<p>tpl_dir            URL for the current theme&rsquo;s folder.</p>

<p>modules_dir        URL the modules folder.</p>

<p>mail_dir           URL for the mail templates folder.</p>

<p>pic_dir            URL for the pictures upload folder.</p>

<p>lang_iso           ISO code for the current language.</p>

<p>come_from          URL for the visitor&rsquo;s origin.</p>

<p>shop_name          Shop name.</p>

<p>cart_qties         Number of products in the cart.</p>

<p>cart                The cart.</p>

<p>currencies          The various available currencies.</p>

<p>id_currency_cooki ID of the current currency.
  e</p>

<p>currency            Currency object (currently used currency).</p>

<p>cookie              User cookie.</p>

<p>languages           The various available languages.</p>

<p>logged              Indicates whether the visitor is logged to a
                      customer account.</p>

<p>page_name          Page name.</p>

<p>customerName        Client name (if logged in).</p>

<p>priceDisplay        Price display method (with or without taxes&hellip;).</p>

<p>roundMode           Rounding method in use.</p>

<p>use_taxes          Indicates whether taxes are enabled or not.</p>

<hr />

<p>There are many other contextual hooks. If you need to display all of the
current page&rsquo;s Smarty variables, add the following call:</p>

<pre><code>{debug}
</code></pre>

<p>Comments are based on asterisk:</p>

<pre><code>{* This string is commented out *}

{*
This string is too!
*}
</code></pre>

<p>Unlike with HTML comments, commented-out Smarty code is not present in
the final output file.</p>


<footer class="last-updated">
	
<div>
  Last updated on March 15, 2018
  :
  <a href="https://github.com/PrestaShop/docs/commit/0d5f9bfd8463112c9ebdc67b5562262b1082b4bd">"Add module docs from master branch" (0d5f9bf)</a>
  
</div>


</footer>

        
        </div>
        

      </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1521820411"></script>
    <script src="/js/perfect-scrollbar.min.js?1521820411"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1521820411"></script>
    <script src="/js/jquery.sticky.js?1521820411"></script>
    <script src="/js/featherlight.min.js?1521820411"></script>
    <script src="/js/html5shiv-printshiv.min.js?1521820411"></script>
    <script src="/js/highlight.pack.js?1521820411"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js?1521820411"></script>
    <script src="/js/learn.js?1521820411"></script>
    <script src="/js/hugo-learn.js?1521820411"></script>

    <link href="/mermaid/mermaid.css?1521820411" type="text/css" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1521820411"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

